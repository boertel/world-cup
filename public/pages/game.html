<div class="pure-g">
    <div class="pure-u-1">
        <a href="#/">Back</a>
    </div>
</div>

<form name="form_bet" ng-submit="submit(form_bet)" novalidate class="bet pure-form pure-form-stacked">
    <div class="pure-g flags">
        <div class="pure-u-1-3">
            <img ng-src="images/flags/competitor-{{ bet.game.competitorA.id }}.png">
        </div>
        <div class="pure-u-1-3"></div>
        <div class="pure-u-1-3">
            <img ng-src="images/flags/competitor-{{ bet.game.competitorB.id }}.png">
        </div>
    </div>

    <div class="pure-g">
        <div class="pure-u-1-3">
            <label for="score_a">{{ bet.game.competitorA.name }}</label>
            <input type="number" name="score_a" ng-model="bet.score_a" id="score_a" min="0" ng-disabled="bet.game.lock" required>
        </div>
        <div class="pure-u-1-3 versus">
            <span ng-if="bet.game.hasScore">{{ bet.game.score_a }} - {{ bet.game.score_b }}</span>
            <span ng-if="!bet.game.hasScore">vs.</span>
        </div>
        <div class="pure-u-1-3">
            <label for="score_b">{{ bet.game.competitorB.name }}</label>
            <input type="number" name="score_a" ng-model="bet.score_b" min="0" id="score_b" ng-disabled="bet.game.lock" required>
        </div>
    </div>
    <div class="pure-g">
        <div class="pure-u-1 submit">
            <button type="submit" ng-if="!bet.game.lock" class="pure-button pure-button-primary" ng-disabled="bet.id && !form_bet.$dirty">Save</button>
        </div>
    </div>
</form>


<div ng-controller="BetsController" ng-show="bet.game.lock">
    <h2>Bets: </h2>

    <div class="bets pure-g {{ scope }}">
        <div class="pure-u-1 pure-u-md-1 pure-u-lg-1-3 ">
            <div class="center bets-title">{{ bet.game.competitorA.name }} wins</div>
            <div class="bet-row center" ng-repeat="bet in competitorA" ng-class="{me:bet.me, perfect:bet.isPerfect(), won:bet.isWin(), lost:bet.isLost(), 'not-friend':!bet.friend}">
                <div class="left">
                    <a href="{{ bet.user.link }}" target="_blank">{{ bet.user.first_name }} {{ bet.user.last_name }}</a>
                </div>
                <div class="right">
                    {{ bet.score_a }} - {{ bet.score_b }}
                </div>
            </div>
        </div>
        <div class="pure-u-1 pure-u-md-1 pure-u-lg-1-3">
            <div class="center bets-title">{{ bet.game.competitorA.name }} &amp; {{ bet.game.competitorB.name }} tie</div>
            <div class="bet-row center" ng-repeat="bet in tie" ng-class="{me:bet.me, perfect:bet.isPerfect(), won:bet.isWin(), lost:bet.isLost(), 'not-friend':!bet.friend}">
                <div class="left">
                    <a href="{{ bet.user.link }}" target="_blank">{{ bet.user.first_name }} {{ bet.user.last_name }}</a>
                </div>
                <div class="right">
                    {{ bet.score_a }} - {{ bet.score_b }}
                </div>
            </div>
        </div>
        <div class="pure-u-1 pure-u-md-1 pure-u-lg-1-3">
            <div class="center bets-title">{{ bet.game.competitorB.name }} wins</div>
            <div class="bet-row center" ng-repeat="bet in competitorB" ng-class="{me:bet.me, perfect:bet.isPerfect(), won:bet.isWin(), lost:bet.isLost(), 'not-friend':!bet.friend}">
                <div class="left">
                    <a href="{{ bet.user.link }}" target="_blank">{{ bet.user.first_name }} {{ bet.user.last_name }}</a>
                </div>
                <div class="right">
                    {{ bet.score_a }} - {{ bet.score_b }}
                </div>
            </div>
        </div>
    </div>
</div>

<div class="pure-g">
    <div class="pure-u-1"><em>{{ bet.game.local|date: 'MMM d, y HH:mm' }}</em></div>
</div>

<div class="pure-g help">
    <div class="pure-u-1">
        <h3>How points will be computed at the end of the match?</h3>
        <ul>
            <li><span class="score">50 points</span>. <em>Perfect</em>: you guessed the perfect score.</li>
            <li><span class="score">20 points</span>. <em>Won</em>: you guessed the correct winner (or correct looser) or if it's a tie.</li>
            <li><span class="score">0 points</span>. <em>Lost</em>: oh well, your psychic skills didn't work on this game.</li>
    </div>
</div>
